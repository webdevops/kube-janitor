## TTL removal by annotation or label
ttl:
  ## checks all resources by annotation
  annotation: janitor/ttl

  ## checks all resources by label
  # label: janitor/ttl

  resources:
    # definition of resources by group, version, kind (GVR)
    - {group: "", version: v1, kind: configmaps}
    - {group: "", version: v1, kind: secrets}
    - {group: apps, version: v1, kind: deployments}

# static rules (fixed TTLs without using ttl definition in labels/annotations)
rules:
  - id: default
    resources:
      - group: ""
        version: v1
        kind: configmaps
        # JMESpath for additional selector, should return true if resource should be used for TTL checks, optional
        jmespath: |-
          !(metadata.annotations."kubernetes.io/description")

        # kubernetes selector (matchLabels, matchExpressions), optional
        selector:
          matchLabels:
            foo: bar

    # kubernetes selector (matchLabels, matchExpressions), optional
    namespaceSelector:
      matchLabels:
        kubernetes.io/metadata.name: default

    ttl: 1m
